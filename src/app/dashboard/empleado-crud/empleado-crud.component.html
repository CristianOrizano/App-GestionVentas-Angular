  <!-- Modal para registrar-->
  <div  class="modal fade" id="modalcrud" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
  aria-labelledby="staticBackdropLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg modal-dialog-centered">
      <div class="modal-content">
          <div class="modal-header bg-danger">
              <h5 class="modal-title text-white" id="exampleModalLabel">Mantenimiento
                  Empleado</h5>
              <button type="button" id="cerrarr" class="btn-close" data-bs-dismiss="modal"
                  aria-label="Close"></button>
          </div>
          <div class="modal-body">

              <form [formGroup]="formEmpleado" (ngSubmit)="saveEmpleado()" id="formAdmin">
                  <div class="row mb-4">
                      <div class="col-sm-12 col-md-6 col-lg-4 form-group">
                          <label for="formGroupExampleInput" class="form-label">Nombre</label>
                          <div class="input-group ">
                              <span class="input-group-text" id="basic-addon1"><i
                                      class="fa-sharp fa-solid fa-user"></i></span> <input type="text"
                                  class="form-control" formControlName="nombre"
                                  placeholder="Ingrese Nombre" required>
                          </div>

                          <div class="mt-1" style="color: rgb(192, 52, 52);"
                              [hidden]="formEmpleado.get('nombre')?.valid || formEmpleado.get('nombre')?.pristine">
                              <p *ngIf="formEmpleado.get('nombre')?.hasError('required')">
                                  Campo requerido.
                              </p>
                              <p *ngIf="formEmpleado.get('nombre')?.hasError('pattern')">
                                  Min:5 max:30 caracteres
                              </p>
                          </div>
                      </div>
                      <div class="col-sm-12 col-md-6 col-lg-4 form-group">
                          <label for="formGroupExampleInput" class="form-label">Apellido</label>
                          <div class="input-group ">
                              <span class="input-group-text" id="basic-addon1"><i
                                      class="fa-sharp fa-solid fa-user"></i></span> <input type="text"
                                      formControlName="apellido" class="form-control"
                                  placeholder="Ingrese apellido" required>
                          </div>
                          <div class="mt-1" style="color: rgb(192, 52, 52);"
                          [hidden]="formEmpleado.get('apellido')?.valid || formEmpleado.get('apellido')?.pristine">
                             <p *ngIf="formEmpleado.get('apellido')?.hasError('required')">
                                  Campo requerido.
                              </p>
                              <p *ngIf="formEmpleado.get('apellido')?.hasError('pattern')">
                                  Min:5 max:30 caracteres
                              </p>
                          </div>
                      </div>

                      <div class="col-sm-12 col-md-6 col-lg-4 form-group">
                          <label for="formGroupExampleInput" class="form-label">Direccion</label>
                          <div class="input-group ">
                              <span class="input-group-text" id="basic-addon1"><i
                                      class="fa-sharp fa-regular fa-diamond-turn-right"></i></span>
                              <input type="text" formControlName="direccion" class="form-control"
                                placeholder="Ingrese Precio" required>
                          </div>
                          <div class="mt-1" style="color: rgb(192, 52, 52);"
                          [hidden]="formEmpleado.get('direccion')?.valid || formEmpleado.get('direccion')?.pristine">
                             <p *ngIf="formEmpleado.get('direccion')?.hasError('required')">
                                  Campo requerido.
                              </p>
                              <p *ngIf="formEmpleado.get('direccion')?.hasError('pattern')">
                                  Max:50 caracteres
                              </p>
                          </div>
                      </div>
                  </div>


                  <div class="row mb-4">
                      <div class="col-sm-12 col-md-6 col-lg-4 form-group">
                          <label for="formGroupExampleInput" class="form-label">Telefono</label>
                          <div class="input-group ">
                              <span class="input-group-text" id="basic-addon1"><i
                                      class="fa-sharp fa-solid fa-phone"></i></span> <input type="text"
                                formControlName="telefono" class="form-control"
                                  placeholder="Ingrese Marca" required>
                          </div>
                          <div class="mt-1" style="color: rgb(192, 52, 52);"
                          [hidden]="formEmpleado.get('telefono')?.valid || formEmpleado.get('telefono')?.pristine">
                              <p *ngIf="formEmpleado.get('telefono')?.hasError('required')">
                                  Campo requerido.
                              </p>
                              <p *ngIf="formEmpleado.get('telefono')?.hasError('pattern')">
                                  Ingrese 9 digitos validos
                              </p>
                          </div>
                      </div>
                      <div class="col-sm-12 col-md-6 col-lg-4 form-group">
                          <label for="formGroupExampleInput" class="form-label">Sueldo</label>
                          <div class="input-group ">
                              <span class="input-group-text" id="basic-addon1"><i
                                      class="fa-sharp fa-solid fa-phone"></i></span> <input type="text"
                                         formControlName="sueldo" class="form-control"
                                  placeholder="Ingrese Marca" required>
                          </div>
                          <div class="mt-1" style="color: rgb(192, 52, 52);"
                          [hidden]="formEmpleado.get('sueldo')?.valid || formEmpleado.get('sueldo')?.pristine">
                          <p *ngIf="formEmpleado.get('sueldo')?.hasError('required')">
                                  Campo requerido.
                              </p>
                              <p *ngIf="formEmpleado.get('sueldo')?.hasError('min')">
                                  Sueldo minimo 1000.00
                              </p>
                              <p *ngIf="formEmpleado.get('sueldo')?.hasError('max')">
                                  Sueldo maximo 8000.00
                              </p>
                              <p  *ngIf="formEmpleado.get('sueldo')?.hasError('pattern')">
                                  Debe ser numero decimal
                              </p>
                          </div>
                      </div>
                      <div class="col-sm-12 col-md-6 col-lg-4 form-group">
                          <label for="formGroupExampleInput" class="form-label">F. Nacimiento</label>
                          <div class="input-group ">
                              <span class="input-group-text" id="basic-addon1"><i
                                      class="fa-sharp fa-solid fa-phone"></i></span> <input type="date"
                                        formControlName="fnacimiento" class="form-control"
                                  placeholder="Ingrese Marca" required>
                          </div>
                          <div class="mt-1" style="color: rgb(192, 52, 52);"
                          [hidden]="formEmpleado.get('fnacimiento')?.valid || formEmpleado.get('fnacimiento')?.pristine">
                          <p *ngIf="formEmpleado.get('fnacimiento')?.hasError('required')">
                              Campo requerido.
                          </p>
                      </div>
                      </div>

                  </div>
                  <div class="row mb-4">
                      <div class="col-sm-12 col-md-6 col-lg-4 form-group">
                          <label for="formGroupExampleInput" class="form-label">Ciudad</label>
                          <div class="input-group ">
                              <span class="input-group-text" id="basic-addon1"><i
                                      class="fa-sharp fa-solid fa-user"></i></span>
                              <select class="form-select form-control"  formControlName="ciudad" required>
                                  <option selected value="">[Seleccionar]</option>
                                  <option *ngFor="let aux of listCiudad" value="{{aux.codigo}}">
                                      {{aux.nombreciu}}
                                  </option>

                              </select>
                          </div>
                          
                          <div class="mt-1" style="color: rgb(192, 52, 52);"
                          [hidden]="formEmpleado.get('ciudad')?.valid || formEmpleado.get('ciudad')?.pristine">
                          <p *ngIf="formEmpleado.get('ciudad')?.hasError('required')">
                                  Campo requerido.
                              </p>
                          </div>
                      </div>
                      <div class="col-sm-12 col-md-6 col-lg-4 form-group">
                          <label for="formGroupExampleInput" class="form-label">Estado</label>
                          <div class="input-group ">
                              <span class="input-group-text" id="basic-addon1"><i
                                      class="fa-sharp fa-solid fa-user"></i></span>
                              <select class="form-select form-control"formControlName="estado" required>
                                  <option selected value="">[Seleccionar]</option>
                                  <option *ngFor="let aux of listEstado" value="{{aux.codestad}}">
                                      {{aux.descripcion}}
                                  </option>
                              </select>
                          </div>
                          <div class="mt-1" style="color: rgb(192, 52, 52);"
                          [hidden]="formEmpleado.get('estado')?.valid || formEmpleado.get('estado')?.pristine">
                          <p *ngIf="formEmpleado.get('estado')?.hasError('required')">
                                  Campo requerido.
                              </p>                                     
                          </div>
                      </div>
                  </div>
                  <div class="modal-footer">
                      <button [disabled]="formEmpleado.invalid"
                      data-bs-dismiss="modal"  type="submit" class="btn btn-success"
                          id="btngrabar">Guardar</button>
                      <button type="button" class="btn btn-secondary" id="cerrar"
                          data-bs-dismiss="modal">Cerrar</button>

                  </div>

              </form>
          </div>

      </div>
  </div>
</div>

<!-- FIN Modal para registrar-->


<!-- Modal para update-->
<div  class="modal fade" id="modalUpdate" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
aria-labelledby="staticBackdropLabel" aria-hidden="true">
<div class="modal-dialog modal-lg modal-dialog-centered">
   <div class="modal-content">
       <div class="modal-header bg-danger">
           <h5 class="modal-title text-white" id="exampleModalLabel">Mantenimiento
               Empleado</h5>
           <button type="button" id="cerrarr" class="btn-close" data-bs-dismiss="modal"
               aria-label="Close"></button>
       </div>
       <div class="modal-body">

           <form [formGroup]="formEmpleado" (ngSubmit)="UpdateEmpleado()" id="formAdmin">
               <div class="row mb-4">
                   <div class="col-sm-12 col-md-6 col-lg-4 form-group">
                       <label for="formGroupExampleInput" class="form-label">Nombre</label>
                       <div class="input-group ">
                           <span class="input-group-text" id="basic-addon1"><i
                                   class="fa-sharp fa-solid fa-user"></i></span> <input type="text"
                               class="form-control" formControlName="nombre"
                               placeholder="Ingrese Nombre" required>
                       </div>

                       <div class="mt-1" style="color: rgb(192, 52, 52);"
                           [hidden]="formEmpleado.get('nombre')?.valid || formEmpleado.get('nombre')?.pristine">
                           <p *ngIf="formEmpleado.get('nombre')?.hasError('required')">
                               Campo requerido.
                           </p>
                           <p *ngIf="formEmpleado.get('nombre')?.hasError('pattern')">
                               Min:5 max:30 caracteres
                           </p>
                       </div>
                   </div>
                   <div class="col-sm-12 col-md-6 col-lg-4 form-group">
                       <label for="formGroupExampleInput" class="form-label">Apellido</label>
                       <div class="input-group ">
                           <span class="input-group-text" id="basic-addon1"><i
                                   class="fa-sharp fa-solid fa-user"></i></span> <input type="text"
                                   formControlName="apellido" class="form-control"
                               placeholder="Ingrese apellido" required>
                       </div>
                       <div class="mt-1" style="color: rgb(192, 52, 52);"
                       [hidden]="formEmpleado.get('apellido')?.valid || formEmpleado.get('apellido')?.pristine">
                          <p *ngIf="formEmpleado.get('apellido')?.hasError('required')">
                               Campo requerido.
                           </p>
                           <p *ngIf="formEmpleado.get('apellido')?.hasError('pattern')">
                               Min:5 max:30 caracteres
                           </p>
                       </div>
                   </div>

                   <div class="col-sm-12 col-md-6 col-lg-4 form-group">
                       <label for="formGroupExampleInput" class="form-label">Direccion</label>
                       <div class="input-group ">
                           <span class="input-group-text" id="basic-addon1"><i
                                   class="fa-sharp fa-regular fa-diamond-turn-right"></i></span>
                           <input type="text" formControlName="direccion" class="form-control"
                             placeholder="Ingrese Precio" required>
                       </div>
                       <div class="mt-1" style="color: rgb(192, 52, 52);"
                       [hidden]="formEmpleado.get('direccion')?.valid || formEmpleado.get('direccion')?.pristine">
                          <p *ngIf="formEmpleado.get('direccion')?.hasError('required')">
                               Campo requerido.
                           </p>
                           <p *ngIf="formEmpleado.get('direccion')?.hasError('pattern')">
                               Max:50 caracteres
                           </p>
                       </div>
                   </div>
               </div>


               <div class="row mb-4">
                   <div class="col-sm-12 col-md-6 col-lg-4 form-group">
                       <label for="formGroupExampleInput" class="form-label">Telefono</label>
                       <div class="input-group ">
                           <span class="input-group-text" id="basic-addon1"><i
                                   class="fa-sharp fa-solid fa-phone"></i></span> <input type="text"
                             formControlName="telefono" class="form-control"
                               placeholder="Ingrese Marca" required>
                       </div>
                       <div class="mt-1" style="color: rgb(192, 52, 52);"
                       [hidden]="formEmpleado.get('telefono')?.valid || formEmpleado.get('telefono')?.pristine">
                           <p *ngIf="formEmpleado.get('telefono')?.hasError('required')">
                               Campo requerido.
                           </p>
                           <p *ngIf="formEmpleado.get('telefono')?.hasError('pattern')">
                               Ingrese 9 digitos validos
                           </p>
                       </div>
                   </div>
                   <div class="col-sm-12 col-md-6 col-lg-4 form-group">
                       <label for="formGroupExampleInput" class="form-label">Sueldo</label>
                       <div class="input-group ">
                           <span class="input-group-text" id="basic-addon1"><i
                                   class="fa-sharp fa-solid fa-phone"></i></span> <input type="text"
                                      formControlName="sueldo" class="form-control"
                               placeholder="Ingrese Marca" required>
                       </div>
                       <div class="mt-1" style="color: rgb(192, 52, 52);"
                       [hidden]="formEmpleado.get('sueldo')?.valid || formEmpleado.get('sueldo')?.pristine">
                          <p *ngIf="formEmpleado.get('sueldo')?.hasError('required')">
                               Campo requerido.
                           </p>
                           <p *ngIf="formEmpleado.get('sueldo')?.hasError('min')">
                               Sueldo minimo 1000
                           </p>
                           <p *ngIf="formEmpleado.get('sueldo')?.hasError('max')">
                               Sueldo maximo 8000
                           </p>
                           <p *ngIf="formEmpleado.get('sueldo')?.hasError('pattern')">
                               Debe ser numero decimal
                           </p>
                       </div>
                   </div>
                   <div class="col-sm-12 col-md-6 col-lg-4 form-group">
                       <label for="formGroupExampleInput" class="form-label">F. Nacimiento</label>
                       <div class="input-group ">
                           <span class="input-group-text" id="basic-addon1"><i
                                   class="fa-sharp fa-solid fa-phone"></i></span> <input type="date"
                                     formControlName="fnacimiento" class="form-control" required
                               placeholder="Ingrese Marca" >
                       </div>
                       <div class="mt-1" style="color: rgb(192, 52, 52);"
                       [hidden]="formEmpleado.get('fnacimiento')?.valid || formEmpleado.get('fnacimiento')?.pristine">
                       <p *ngIf="formEmpleado.get('fnacimiento')?.hasError('required')">
                           Campo requerido.
                       </p>
                   </div>
                   </div>

               </div>
               <div class="row mb-4">
                   <div class="col-sm-12 col-md-6 col-lg-4 form-group">
                       <label for="formGroupExampleInput" class="form-label">Ciudad</label>
                       <div class="input-group ">
                           <span class="input-group-text" id="basic-addon1"><i
                                   class="fa-sharp fa-solid fa-user"></i></span>
                           <select class="form-select form-control"  formControlName="ciudad" required>
                               <option selected value="">[Seleccionar]</option>
                               <option *ngFor="let aux of listCiudad" value="{{aux.codigo}}">
                                   {{aux.nombreciu}}
                               </option>

                           </select>
                       </div>
                       
                       <div class="mt-1" style="color: rgb(192, 52, 52);"
                       [hidden]="formEmpleado.get('ciudad')?.valid || formEmpleado.get('ciudad')?.pristine">
                       <p *ngIf="formEmpleado.get('ciudad')?.hasError('required')">
                               Campo requerido.
                           </p>
                       </div>
                   </div>
                   <div class="col-sm-12 col-md-6 col-lg-4 form-group">
                       <label for="formGroupExampleInput" class="form-label">Estado</label>
                       <div class="input-group ">
                           <span class="input-group-text" id="basic-addon1"><i
                                   class="fa-sharp fa-solid fa-user"></i></span>
                           <select class="form-select form-control"formControlName="estado" required>
                               <option selected value="">[Seleccionar]</option>
                               <option *ngFor="let aux of listEstado" value="{{aux.codestad}}">
                                   {{aux.descripcion}}
                               </option>
                           </select>
                       </div>
                       <div class="mt-1" style="color: rgb(192, 52, 52);"
                       [hidden]="formEmpleado.get('estado')?.valid || formEmpleado.get('estado')?.pristine">
                       <p *ngIf="formEmpleado.get('estado')?.hasError('required')">
                               Campo requerido.
                           </p>                                     
                       </div>
                   </div>
               </div>
               <div class="modal-footer">
                   <button [disabled]="formEmpleado.invalid"
                   data-bs-dismiss="modal"  type="submit" class="btn btn-success"
                       id="btngrabar">Update</button>
                   <button type="button" class="btn btn-secondary" id="cerrar"
                       data-bs-dismiss="modal">Cerrar</button>

               </div>

           </form>
       </div>

   </div>
</div>
</div>

<!-- FIN Modal para update-->



<div class="row">
    <div class="card mb-4">
        <div class="card-header" style="background: #167aa5;">
            <h4 class="text-white fw-bolder"><i class="fas fa-table me-1"></i>Lista Empleados </h4>
        </div>
        <div class="card-body">
            <!-- Button modal -->
            <button type="button" (click)="cleanForm()" class="btn btn-primary btn-registrar" data-bs-toggle="modal"
                data-bs-target="#modalcrud">
                Registrar </button>

            <div class="mt-3">
                <table class="table table-striped table-bordered" id="myTable">
                    <thead style="background: #5D6D7E;color: white">
                        <tr>
                            <th>#</th>
                            <th>Nombre</th>
                            <th>Apellido</th>
                            <th>Direccion</th>
                            <th>Ciudad</th>
                            <th>Telefono</th>
                            <th>sueldo</th>
                            <th>fechaNacimiento</th>
                            <th>Estado</th>
                            <th></th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let a of listEmpleado | paginate: { itemsPerPage: 10, currentPage: page}">
                            <td>{{a.codigo}}</td>
                            <td>{{a.nombre}}</td>
                            <td>{{a.apellido}}</td>
                            <td>{{a.direccion}}</td>
                            <td>{{a.ciudad.nombreciu}}</td>
                            <td>{{a.telefono}}</td>
                            <td>{{a.sueldo}}</td>
                            <td>{{a.fechanaci}}</td>
                            <td class="text-center">
                                <div *ngIf="a.estad.descripcion=='Inactivo'" 
                                style="padding: 5px;background: red;width: 70px;color: white;border-radius: 10px;"> {{a.estad.descripcion}}</div>
                                <div *ngIf="a.estad.descripcion=='Activo'" style="padding: 5px;background: green;width: 70px;color: white;border-radius: 10px;"> {{a.estad.descripcion}}</div>
                            </td>
                            <td>
                                <a class="btn btn-warning btn-editar" data-bs-toggle="modal"
                                (click)="Buscar(a)" data-bs-target="#modalUpdate"> <i class="fa-sharp fa-solid fa-pen-to-square"></i></a>
                                
                                    <button (click)="DeleteEmpleado(a)"class="btn btn-danger btn-eliminar mx-2"><i
                                        class="fa-sharp fa-solid fa-trash-can"></i></button>
                            </td>                     
                        </tr>
                    </tbody>
                </table>
            </div>

        </div>
    </div>
</div>
<pagination-controls (pageChange)="page = $event" previousLabel="Anterior" nextLabel="Siguiente"></pagination-controls>